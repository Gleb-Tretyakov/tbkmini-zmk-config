# tbkmini 3×6 Keymap для ZMK

Это пользовательская раскладка клавиатуры для tbkmini 3×6, адаптированная из раскладки Charybdis 4×6. Она имеет матрицу 3×6 с симметричной группой из 6 клавиш под большие пальцы, оптимизированную для эффективного набора текста и программирования.

## 📋 Содержание

- [Обзор](#обзор)
- [Визуализация раскладки](#визуализация-раскладки)
- [Слои](#слои)
  - [BASE (QWERTY)](#base-qwerty)
  - [LOWER](#lower)
  - [SYMB](#symb)
  - [NAV](#nav)
  - [ADJUST](#adjust)
  - [COLEMAK_DH](#colemaak_dh)
  - [GAMING](#gaming)
- [Расположение клавиш под большие пальцы](#расположение-клавиш-под-большие-пальцы)
- [Функциональность трекбола](#функциональность-трекбола)
- [Модификаторы на домашнем ряду](#модификаторы-на-домашнем-ряду)
- [Комбинации клавиш](#комбинации-клавиш)
- [Макросы](#макросы)
- [Отличия от Charybdis](#отличия-от-charybdis)
- [Эргономические особенности и адаптации](#эргономические-особенности-и-адаптации)
- [Сборка и прошивка](#сборка-и-прошивка)

## 🌟 Обзор

tbkmini 3×6 - это компактная эргономичная раскладка клавиатуры с:
- Матрицей 3×6 (без цифрового ряда)
- Симметричной группой из 6 клавиш под большие пальцы
- Модификаторами на домашнем ряду для эффективного доступа к модификаторам
- Семью слоями для символов, навигации и функций
- Более чем 50 комбинациями, адаптированными для матрицы 3×6
- Расширенной поддержкой макросов для продуктивности и программирования

Эта раскладка адаптирована из популярной раскладки Charybdis 4×6, оптимизированной для меньшего форм-фактора 3×6.

## 🎮 Визуализация раскладки

### Базовый слой (QWERTY)

```
┌─────┬─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┬─────┐
│ TAB │ Q   │ W   │ E   │ R   │ T   │     │ Y   │ U   │ I   │ O   │ P   │ [   │
├─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┤
│ ESC │ A   │ S   │ D   │ F   │ G   │     │ H   │ J   │ K   │ L   │ ;   │ '   │
├─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┤
│SFT/T│ Z   │ X   │ C   │ V   │ B   │     │ N   │ M   │ ,   │ .   │ ]   │SFT/E│
└─────┴─────┴─────┴─────┼─────┼─────┤     ├─────┼─────┼─────┴─────┴─────┴─────┘
                        │LANG │LOWER│     │SYMB │BSPC │
                        └─────┴─────┘     └─────┴─────┘
```


### Группа клавиш под большие пальцы

```
Левая рука:               Правая рука:
┌──────┬──────┬──────┐    ┌──────┬──────┬──────┐
│ LANG │LOWER │ LGUI │    │ RALT │SYMB  │BSPC  │
└──────┴──────┴──────┘    └──────┴──────┴──────┘
```

### Модификаторы на домашнем ряду (указаны на базовом слое)

```
┌─────┬─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┬─────┐
│     │     │     │     │     │     │     │     │     │     │     │     │     │
├─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┤
│     │GUI/A│ALT/S│CTL/D│SFT/F│     │     │     │SFT/J│CTL/K│ALT/L│GUI/;│     │
├─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┤
│     │     │     │     │     │     │     │     │     │     │     │     │     │
└─────┴─────┴─────┴─────┼─────┼─────┤     ├─────┼─────┼─────┴─────┴─────┴─────┘
                        │     │     │     │     │     │
                        └─────┴─────┘     └─────┴─────┘
```

## 🧱 Слои

### BASE (QWERTY)

Основной слой для набора текста с модификаторами на домашнем ряду. Особенности:
- Стандартная раскладка QWERTY
- Модификаторы на домашнем ряду (GUI, ALT, CTRL, SHIFT)
- Клавиши с несколькими функциями для расширенной функциональности

### LOWER

Слой с цифрами и функциональными клавишами:
- Клавиши F1-F12 в верхнем ряду
- Цифры в стиле цифровой клавиатуры на домашнем ряду
- Символы и специальные символы в нижнем ряду

### SYMB

Слой с символами и специальными символами:
- Общие символы программирования
- Скобки, операторы и знаки препинания
- Специальные символы для кодирования

### NAV

Навигация и медиа-элементы управления:
- Клавиши со стрелками
- Страница вверх/вниз, домой/конец
- Элементы управления мультимедиа (воспроизведение/пауза, громкость)
- Макросы навигации по рабочему столу

### ADJUST

Системные функции и настройки:
- Элементы управления Bluetooth
- Переключение вывода
- Сброс системы и доступ к загрузчику
- Макрос блокировки экрана

### COLEMAK_DH

Альтернативный базовый слой с раскладкой Colemak-DH:
- Оптимизирован для уменьшения движения пальцев
- Сохраняет модификаторы на домашнем ряду
- Тот же доступ к слоям, что и в QWERTY

### GAMING

Раскладка, оптимизированная для игр:
- Стандартный игровой кластер WASD
- Прямой доступ к общим игровым клавишам
- Упрощенная раскладка модификаторов
- Быстрый возврат к базовому слою

## 👍 Расположение клавиш под большие пальцы

```
Левая рука:  LANG | SPACE/LOWER | GUI
Правая рука: SHIFT | BSPC/SYMB | ALT
```

Группа клавиш под большие пальцы обеспечивает эффективный доступ к модификаторам и переключению слоев:
- **LANG**: Нажатие для переключения языка, удержание для переключения слоев (COLEMAK_DH/GAMING)
- **LOWER**: Временная активация слоя LOWER при удержании
- **SYMB**: Временная активация слоя SYMB при удержании
- **GUI/ALT**: Выделенные клавиши модификаторов

#### Трекбол
Трекбол интегрирован в клавиатуру и позволяет управлять курсором мыши:
- Используйте клавиши со стрелками для перемещения курсора
- Используйте специальные клавиши для кнопок мыши и прокрутки
- Чувствительность трекбола можно настроить в прошивке

## 🖱️ Функциональность трекбола

Раскладка включает интеграцию трекбола для управления курсором мыши:

### Управление курсором
- **MS_UP**: Перемещение курсора вверх
- **MS_DOWN**: Перемещение курсора вниз
- **MS_LEFT**: Перемещение курсора влево
- **MS_RIGHT**: Перемещение курсора вправо

### Кнопки мыши
- **MS_BTN1**: Левая кнопка мыши (щелчок)
- **MS_BTN2**: Правая кнопка мыши (контекстное меню)
- **MS_BTN3**: Средняя кнопка мыши (колесо)
- **MS_BTN4**: Четвертая кнопка мыши (назад в браузере)
- **MS_BTN5**: Пятая кнопка мыши (вперед в браузере)

### Прокрутка
- **MS_WH_UP**: Прокрутка вверх
- **MS_WH_DOWN**: Прокрутка вниз

## ⌨️ Модификаторы на домашнем ряду

Модификаторы на домашнем ряду позволяют использовать клавиши домашнего ряда как буквы, так и модификаторы:

**Левая рука:**
- Клавиша `A`: модификатор GUI при удержании
- Клавиша `S`: модификатор ALT при удержании
- Клавиша `D`: модификатор CTRL при удержании
- Клавиша `F`: модификатор SHIFT при удержании

**Правая рука:**
- Клавиша `J`: модификатор SHIFT при удержании
- Клавиша `K`: модификатор CTRL при удержании
- Клавиша `L`: модификатор ALT при удержании
- Клавиша `;`: модификатор GUI при удержании

Они используют поведение "удержание-нажатие" с оптимизированными настройками времени для отзывчивого набора текста.

## 🔥 Комбинации клавиш

Несколько полезных комбинаций доступны на базовом слое:

### Комбинации навигации
- **ESC**: Указательные пальцы (QWERTY: `Q` + `W`)
- **TAB**: Мизинцы (QWERTY: `TAB` + `Q`)
- **ENTER**: Указательные пальцы (QWERTY: `O` + `P`)
- **DEL**: Средние пальцы (QWERTY: `E` + `R`)

### Комбинации скобок
- **()**: Указательные пальцы (QWERTY: `U` + `I`)
- **[]**: Средние пальцы (QWERTY: `W` + `E` и `O` + `P`)
- **{}**: Указательные пальцы (QWERTY: `U` + `I` с shift)

### Операции с буфером обмена
- **Вырезать**: Указательный + средний палец (QWERTY: `U` + `I`)
- **Копировать**: Средний + безымянный палец (QWERTY: `I` + `O`)
- **Вставить**: Безымянный + мизинец (QWERTY: `O` + `P`)
- **Отменить**: Указательный + средний палец (QWERTY: `Y` + `U`)
- **Повторить**: Указательный + безымянный палец (QWERTY: `Y` + `I`)

### Специальные функции
- **Caps Word**: Указательные пальцы (QWERTY: `I` + `O`)

## 🤖 Макросы

Раскладка включает множество макросов для повышения продуктивности:

### Системные макросы
- **lang_switch**: Переключение языка ввода (GUI+SPACE)
- **lock_screen**: Блокировка экрана (GUI+CTRL+Q)
- **screenshot**: Сделать скриншот (GUI+SHIFT+S)

### Управление окнами
- **win_max**: Развернуть окно (GUI+UP)
- **win_left**: Переместить окно влево (GUI+LEFT)
- **win_right**: Переместить окно вправо (GUI+RIGHT)
- **next_desktop**: Переключиться на следующий рабочий стол (CTRL+RIGHT)
- **prev_desktop**: Переключиться на предыдущий рабочий стол (CTRL+LEFT)

### Выделение текста
- **select_word**: Выделить текущее слово
- **select_line**: Выделить текущую строку
- **select_all**: Выделить весь текст (GUI+A)

### Макросы программирования
- **arrow_macro**: Напечатать `->`
- **fat_arrow_macro**: Напечатать `=>`
- **vim_save**: Сохранить в vim (GUI+S)
- **duplicate_line**: Дублировать текущую строку (ALT+D)
- **delete_line**: Удалить текущую строку (GUI+SHIFT+K)

### Макросы VS Code
- **vscode_terminal**: Открыть терминал (CTRL+`)
- **vscode_explorer**: Переключить проводник (GUI+SHIFT+E)
- **vscode_search**: Поиск по файлам (GUI+SHIFT+F)
- **vscode_command_palette**: Открыть палитру команд (GUI+SHIFT+P)
- **vscode_git**: Открыть контроль версий (GUI+SHIFT+G)
- **vscode_format**: Форматировать документ (SHIFT+ALT+F)
- **vscode_goto_definition**: Перейти к определению (F12)
- **vscode_references**: Найти все ссылки (SHIFT+F12)
- **vscode_comment_line**: Переключить комментарий строки (GUI+/)
- **vscode_toggle_sidebar**: Переключить боковую панель (GUI+B)
- **vscode_toggle_panel**: Переключить панель (GUI+J)
- **vscode_quick_open**: Быстрое открытие (GUI+P)
- **vscode_symbol_search**: Поиск символов (GUI+SHIFT+O)
- **vscode_rename_symbol**: Переименовать символ (F2)
- **vscode_show_problems**: Показать панель проблем (GUI+SHIFT+M)

### Макросы браузера
- **browser_refresh**: Обновить страницу (GUI+R)
- **browser_dev_tools**: Открыть инструменты разработчика (GUI+ALT+I)
- **browser_find**: Найти на странице (GUI+F)

### Управление задачами
- **todoist_toggle**: Открыть Todoist (GUI+SHIFT+T)
- **notion_toggle**: Открыть Notion (GUI+SHIFT+N)

### Коммуникация
- **slack_toggle**: Открыть Slack (GUI+SHIFT+S)

## ↔️ Отличия от Charybdis

Эта раскладка была адаптирована из раскладки Charybdis 4×6 со следующими ключевыми отличиями:

1. **Нет цифрового ряда**: Цифры перемещены на слой LOWER вместо выделенного цифрового ряда
2. **Интеграция трекбола**: Добавлена функциональность трекбола/мыши
3. **Симметричная группа из 6 клавиш под большие пальцы**: Сбалансированная раскладка группы клавиш под большие пальцы для обеих рук
4. **Адаптированные комбинации**: Все комбинации были перерасположены для матрицы 3×6
5. **Оптимизированный доступ к слоям**: Переключение слоев интегрировано в группу клавиш под большие пальцы
6. **Расширенные макросы**: Дополнительные макросы продуктивности для программирования и повседневных задач

## 🔧 Сборка и прошивка

Чтобы собрать и прошить эту прошивку для клавиатуры tbkmini:

1. **Настройте среду разработки ZMK**:
   - Установите инструмент West и зависимости
   - Клонируйте репозиторий ZMK

2. **Соберите прошивку**:
   ```bash
   west build -p -b nice_nano_v2 --shield tbkmini
   ```

3. **Прошейте прошивку**:
   - Подключите микроконтроллер клавиатуры через USB
   - Дважды нажмите кнопку сброса, чтобы войти в режим загрузчика
   - Скопируйте сгенерированный файл `zmk.uf2` на смонтированный диск

Для получения подробных инструкций обратитесь к [Документации ZMK](https://zmk.dev/docs).

## 🧠 Эргономические особенности и адаптации

Раскладка tbkmini 3×6 была тщательно адаптирована для обеспечения максимального комфорта и эффективности при использовании:

### Адаптация с 4×6 до 3×6
- Удален цифровой ряд для уменьшения расстояния между клавишами
- Цифры перемещены на отдельный слой LOWER для сохранения функциональности
- Оптимизирована матрица 3×6 для естественного положения рук

### Модификаторы на домашнем ряду
- Использование поведения "удержание-нажатие" для клавиш A, S, D, F, J, K, L и ;
- Оптимизированные настройки времени удержания для отзывчивого набора текста
- Симметричная раскладка модификаторов для обеих рук

### Комбинации клавиш
- Адаптированы для матрицы 3×6 с учетом естественного положения пальцев
- Расположены на наиболее доступных позициях для минимизации движения рук

### Слои и переключение
- Интеграция переключения слоев в группу клавиш под большие пальцы
- Использование временной активации слоев (LOWER, SYMB) для быстрого доступа
- Постоянные слои (COLEMAK_DH, GAMING) для специализированных задач

### Макросы и автоматизация
- Созданы для повышения продуктивности и уменьшения повторяющихся действий
- Оптимизированы для macOS, но могут быть адаптированы для других систем

## 📄 Лицензия

Эта раскладка основана на раскладке Charybdis и лицензирована по лицензии MIT. Смотрите файл раскладки для полных сведений о лицензии.

---

*Приятного набора текста!*